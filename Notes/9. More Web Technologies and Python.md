# HTML, Web Technologies, and Python – Detailed Notes

## HTML: Background and Principles

### Origins of HTML
- HTML evolved from SGML (Standard Generalized Markup Language).
- SGML was designed with two key ideas:
  - Portability across different publishers.
  - Separation of content from form (presentation).

### Declarative vs. Imperative Paradigm
- HTML is a declarative language: it describes what should appear on the screen.
- JavaScript is imperative: describes how things should be done procedurally.
- Original design philosophy:
  - Prefer HTML and CSS for content and styling.
  - Use JavaScript only when needed to control behavior.
- This philosophy wasn't always maintained in practice.

### Goals in Designing HTML
- Support consistent rendering across different devices.
- Ensure that the same content can appear appropriately on laptops, phones, etc.
- Allow browsers the flexibility in rendering to improve usability and accessibility.

---

## HTML Syntax and Structure

### Elements and Tags
- An HTML element corresponds to a node in the document's tree structure (DOM).
- Basic syntax:
  ```html
  <tagname attribute="value">Content</tagname>
  ```

### Types of Elements
| Type       | Description                                       | Example       |
|------------|---------------------------------------------------|---------------|
| Void       | No contents or children                           | `<br>`        |
| Raw Text   | Contains only text, no nested elements allowed    | `<title>`     |
| Normal     | Can contain text and nested elements              | `<p>`, `<div>`|

- Tags come in opening and closing forms; improper nesting results in parsing correction.
- Browsers often auto-correct malformed HTML (e.g., mismatched tags) rather than failing.

### Attributes
- Key-value pairs added to the opening tag of an element.
  ```html
  <img src="image.jpg" width="500" height="300">
  ```
- Both keys and values are strings.
- Can be left unquoted if values follow certain rules.
- Placed only in the opening tag or in self-closing tags (for void elements).

### Omission Rules
- HTML allows:
  - Omitting closing tags if the parser can infer structure.
  - Self-closing tags for void elements using `<tag />`.

### Generous Syntax Parsing
- Browsers are forgiving: they parse incomplete or incorrect HTML to maximize content rendering.
- This ensures users see as much of the page as possible despite developer errors.
- Contrast to strict languages like C++ which halt on syntax errors.

---

## DTD and the Evolution Toward HTML5

### DTD (Document Type Declaration)
- Specifies:
  - Which elements are allowed.
  - Their types (void, raw, normal).
  - Allowed attributes.
  - Valid nesting and element hierarchy.
- Used from HTML versions 1.0 to 4.0 for strict definition of document structures.

### Drawbacks of DTD
- Too rigid and slow to adapt to evolving browser innovation.
- Standards couldn't keep pace with browser capabilities.

### HTML5 – Living Standard
- HTML5 introduced in ~2008 with a "living standard" approach.
- Managed and updated continuously at:
  - https://www.w3.org/
- No longer uses DTD-like rigid validation.
- Allows for more flexibility and quicker browser evolution.

---

## XML vs HTML

### XML (Extensible Markup Language)
- Strict version of HTML-like syntax:
  - No omitted tags or malformations.
- Used for data exchange and non-web applications (e.g., gov documents, SSN info).

| Feature            | HTML                         | XML                          |
|--------------------|------------------------------|------------------------------|
| Syntax Strictness  | Loose/My forgiving            | Very strict                  |
| Closing Tags       | Often omitted                 | Required                     |
| Use Case           | Browsers, display             | Data transmission            |

- XHTML is an XML variant used for well-formed HTML pages.
- Data governance is more reliable in XML (useful in critical fields).

---

## DOM (Document Object Model)

### Overview
- Represents the HTML or XML document as a tree.
- Nodes correspond to elements, text, attributes, etc.

### Key Properties
- Object-Oriented API to interact with the structure of a document.
- Represented in RAM by browsers.
- Modifiable dynamically via JavaScript.

### Main Operations Enabled
- Access: retrieve specific elements (`getElementById`, `querySelector`, etc.).
- Traversal: loop through child/parent/sibling nodes.
- Modification: add, delete, reorder nodes dynamically.

### Language Support
- DOM APIs are theoretically language-agnostic.
- JavaScript is de facto standard for DOM manipulation.

---

## CSS (Cascading Style Sheets)

### Purpose
- Separates content (HTML) from presentation (style).
- Avoids embedding style details directly in HTML.

### Replaces Legacy Tags
- Old style:
  ```html
  <b>Bold</b> and <i>Italic</i>
  ```
- Modern style:
  ```html
  <strong>Bold</strong> and <em>Italic</em>
  ```

### Why?
- Makes pages accessible (e.g., screen readers for visually impaired).
- Adapts better to various devices.

### Inheritance
- Styles cascade through the DOM tree.
- Child elements inherit parent's styles unless overridden.

### Sources of Style
| Source     | Description                              |
|------------|------------------------------------------|
| Browser    | Default styles                          |
| User       | Custom overrides via browser settings   |
| Author     | Defined in the webpage/CSS files        |

### Style Declaration
- Inline:
  ```html
  <span style="font-variant: small-caps;">Styled Text</span>
  ```
- External:
  ```html
  <link rel="stylesheet" href="styles.css">
  ```

### Syntax
```css
selector {
  property: value;
}
```

---

## JavaScript

### Overview
- A dynamic scripting language embedded in HTML.
- Runs in browsers for responsive, interactive web pages.

### Embedding JS
Two methods:
1. External File:
   ```html
   <script src="hello.js"></script>
   ```
2. Inline Code:
   ```html
   <script>
     // code here
   </script>
   ```

### Pros and Cons
| Method     | Pros                                | Cons                    |
|------------|--------------------------------------|-------------------------|
| External   | Reusable, update once, cleaner HTML | One extra HTTP request |
| Inline     | Simpler for small scripts            | Harder to maintain     |

---

## JSX (JavaScript XML)

### Purpose
- Allows embedding HTML-like syntax in JavaScript.
- Transpiled to standard JavaScript behind the scenes.

### JSX Syntax
```jsx
const header = <h1 lang={"en"}>CS35L Homework</h1>;
```

- JSX expressions can include variables:
  ```jsx
  const course = "CS35L";
  const header = <h1>{course} Homework</h1>;
  ```

### Rendering JSX
```jsx
ReactDOM.render(header, document.getElementById("root"));
```

### Nesting and Flexibility
- JSX supports deeply nested elements.
- JavaScript expressions can be embedded within curly braces.

---

## Client-Server Data Exchange

### Formats

| Format | Description                    | Example Usage                        |
|--------|--------------------------------|--------------------------------------|
| XML    | Verbose, hierarchical          | Government, legacy systems           |
| JSON   | Lightweight, JavaScript-native| Modern web applications              |

### JSON (JavaScript Object Notation)
- Trees where labels apply to arcs (key-value pairs).
- Serialized JavaScript object representation.

Example:
```json
{
  "menu": {
    "id": "file",
    "value": "File",
    "popup": {
      "menuitem": [
        { "value": "New", "onclick": "CreateNewDoc()" },
        { "value": "Open", "onclick": "OpenDoc()" }
      ]
    }
  }
}
```

### JSON vs XML Tree Representation

| Feature        | JSON                         | XML                              |
|----------------|-------------------------------|-----------------------------------|
| Label Position | On arcs (keys)               | On nodes (element names)          |
| Syntax         | Curly braces/arrays          | Tags with attributes              |
| Parsing        | Native in JavaScript         | Requires XML parser               |

---

## Browser Rendering Pipeline

### Purpose
- Efficiently convert HTML/CSS/JS into visible content.

### Stages
1. Parsing → Builds DOM tree.
2. Layout → Calculates screen positions.
3. Rendering → Draws pixels.

### Optimization Strategies
- Lazy rendering: Start showing content before full parsing completion.
- Skip off-screen elements: Don’t render or execute their JS until visible.
- Parallel execution: JavaScript may run while parsing and rendering continues.

| Issue                         | Explanation                             |
|-------------------------------|-----------------------------------------|
| Self-modifying DOM            | JavaScript modifies the DOM during load |
| Deferred execution            | JS scripts for hidden elements may not run immediately|

### Testing Concerns
- Fast local networks may hide timing issues.
- Must test on variable latency connections for robustness.

---

## Python: Advanced Types

### Mapping Types – `dict` (Dictionaries)

- Stores key-value pairs.
- Keys must be immutable.
- Values can be of any type (mutable/immutable).

### Syntax & Operations
```python
d = {"a": 1, "b": 2}
d["c"] = 3            # Add item
print(d["a"])         # Access value
del d["b"]            # Remove item
```

### Common Methods
| Method      | Description                             |
|-------------|-----------------------------------------|
| len(d)      | Number of key-value pairs               |
| d.clear()   | Removes all elements from the dictionary|
| d.copy()    | Shallow copy of dictionary              |
| d.items()   | View of (key, value) tuples             |
| d.keys()    | View of all keys                        |
| d.values()  | View of all values                      |

- Views are dynamic: reflect changes in the original dictionary.
- Keys must be hashable and immutable.

### Dictionary Copy: Shallow vs Deep
- Shallow copy:
  - Dict is copied.
  - Mutable values (like lists) are shared.
- Deep copy (via `copy.deepcopy()`):
  - Recursively copies everything, including values.

### Ordered Dictionaries (Python ≥3.7)
- Dictionaries preserve insertion order.
- Important for debugging and reliable iteration.

Example Iteration:
```python
for key in d:
    print(key, d[key])
```

---

## Summary

This lecture explores key concepts of HTML, including its origins in SGML, the importance of separating form from content, and the interplay between HTML, CSS, and JavaScript. It examines the syntax of HTML elements, the role of the DOM in representing web pages, and introduces best practices for declarative design. Attention is given to the evolution from DTD-based HTML versions to the modern HTML5 living standard. XML is presented as a stricter cousin for data exchange, with JSON emerging as a lighter alternative. The DOM structure and its manipulation via JavaScript and JSX are covered, along with cascading stylesheets for presentation. The lecture also discusses performance optimizations in browser rendering and ends with an in-depth look at Python dictionaries, emphasizing their structure, copying behavior, and iteration mechanisms.